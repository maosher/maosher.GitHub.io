# Database

## Mysql

InnoDB中主键索引B+树是如何组织数据、查询数据的，我们总结一下：

InnoDB存储引擎的最小存储单元是页，页可以用于存放数据也可以用于存放键值+指针，在B+树中叶子节点存放数据，非叶子节点存放键值+指针。

索引组织表通过非叶子节点的二分查找法以及指针确定数据在哪个页中，进而在去数据页中查找到需要的数据；


### Mysql 事务隔离级别
隔离级别比较和性能：可串行化>可重复读>读已提交>读未提交  
读未提交  
>>事务A可以读取到事务B修改过但未提交的数据。
>>可能发生脏读、不可重复读和幻读问题，一般很少使用此隔离级别。  

读已提交  
>>在读已提交隔离级别下，事务B只能在事务A修改过并且已提交后才能读取到事务B修改的数据。
>>读已提交隔离级别解决了脏读的问题，但可能发生不可重复读和幻读问题，一般很少使用此隔离级别。

可重复读  （默认隔离级别)
>>在可重复读隔离级别下，事务B只能在事务A修改过数据并提交后，自己也提交事务后，才能读取到事务B修改的数据。
>>可重复读隔离级别解决了脏读和不可重复读的问题，但可能发生幻读问题。

可串行化  
>>如果二个事务都是读操作， 不会阻塞， 否则阻塞
>>各种问题（脏读、不可重复读、幻读）都不会发生，通过加锁实现（读锁和写锁）。

脏读  b.beging, b.update,  a.read, b.rollback   a 读到了更新的数据， 但是b回滚了， a是错误数据
## Redis

字符串类型：它的big体现在单个value值很大，一般认为超过10KB就是bigkey。
非字符串类型：哈希、列表、集合、有序集合，它们的big体现在元素个数太多。一次性取出时
redis-cli --bigkeys  有风险! 在slave 本机执行，避免网络开销
可以使用 --i 0.1 代表100毫秒执行一次

debug object ${key}命令获取键值的相关信息



## MongoDB